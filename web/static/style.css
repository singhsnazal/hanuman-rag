:root{
  --bg1:#020617;
  --bg2:#0f172a;
  --card: rgba(255,255,255,0.06);
  --border: rgba(148,163,184,0.18);
  --text: #e2e8f0;
  --muted:#94a3b8;
  --accent:#2563eb;
  --accent2:#1d4ed8;
  --shadow: 0 20px 60px rgba(0,0,0,0.35);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  color:var(--text);
  overflow:hidden;
  background: radial-gradient(1200px 900px at 15% 10%, #1d4ed833, transparent 60%),
              radial-gradient(1200px 900px at 85% 90%, #7c3aed33, transparent 60%),
              linear-gradient(180deg, var(--bg2), var(--bg1));
}

.bg{
  position:fixed; inset:0;
  background: url("https://www.transparenttextures.com/patterns/cubes.png");
  opacity:0.12;
  pointer-events:none;
}

.app{
  width:min(1100px, 92vw);
  height:min(92vh, 860px);
  margin:4vh auto;
  display:flex;
  flex-direction:column;
  border:1px solid var(--border);
  border-radius:22px;
  background: rgba(2,6,23,0.55);
  backdrop-filter: blur(18px);
  box-shadow: var(--shadow);
  overflow:hidden;
}

.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:18px 18px;
  border-bottom:1px solid var(--border);
  background: rgba(255,255,255,0.03);
}

.brand{
  display:flex;
  gap:14px;
  align-items:center;
}

.logo{
  width:46px;height:46px;border-radius:16px;
  display:grid;place-items:center;
  background: linear-gradient(135deg, var(--accent), #7c3aed);
  box-shadow: 0 12px 30px rgba(37,99,235,0.32);
  font-size:22px;
}

.title{font-weight:800;font-size:18px;letter-spacing:0.3px}
.subtitle{font-size:13px;color:var(--muted);margin-top:2px}

.chat{
  flex:1;
  padding:18px;
  overflow:auto;
  display:flex;
  flex-direction:column;
  gap:14px;
}

.bubble{
  max-width: 78%;
  padding:12px 14px;
  border-radius:18px;
  border:1px solid var(--border);
  background: var(--card);
  line-height:1.45;
  white-space:pre-wrap;
}

.user{
  margin-left:auto;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  border:none;
  box-shadow: 0 12px 30px rgba(37,99,235,0.26);
}

.ai{ margin-right:auto; }

.meta{
  margin-top:8px;
  font-size:12px;
  color: rgba(226,232,240,0.75);
}

.sources{
  margin-top:10px;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(148,163,184,0.16);
  background: rgba(255,255,255,0.03);
  color: rgba(226,232,240,0.9);
  font-size:13px;
}

.sources b{color: #fff}
.sources ul{margin:8px 0 0 16px; padding:0}
.sources li{margin:6px 0}

.composer{
  display:flex;
  flex-direction:column; /* ✅ allow two rows */
  gap:10px;
  padding:14px;
  border-top:1px solid var(--border);
  background: rgba(255,255,255,0.03);
}


.composer input{
  flex:1;
  height:46px;
  padding:0 14px;
  border-radius:14px;
  border:1px solid rgba(148,163,184,0.26);
  background: rgba(2,6,23,0.35);
  color: var(--text);
  outline:none;
  font-size:15px;
}

.composer input:focus{
  border-color: rgba(37,99,235,0.65);
  box-shadow: 0 0 0 4px rgba(37,99,235,0.18);
}

.btn{
  height:46px;
  padding:0 16px;
  border-radius:14px;
  cursor:pointer;
  border:1px solid rgba(148,163,184,0.22);
  background: rgba(255,255,255,0.06);
  color: var(--text);
  font-weight:700;
}

.btn.primary{
  border:none;
  background: linear-gradient(135deg, var(--accent), #7c3aed);
}

.btn.ghost{
  background: transparent;
}

.typing{
  display:flex;
  gap:6px;
  align-items:center;
  padding:12px 14px;
  border-radius:18px;
  border:1px solid var(--border);
  width:fit-content;
  background: rgba(255,255,255,0.04);
}
.dot{
  width:8px;height:8px;border-radius:999px;
  background: rgba(226,232,240,0.8);
  animation: pulse 1.2s infinite;
}
.dot:nth-child(2){animation-delay:0.15s}
.dot:nth-child(3){animation-delay:0.3s}

@keyframes pulse{
  0%,100%{opacity:0.25; transform: translateY(0)}
  50%{opacity:1; transform: translateY(-3px)}
}
/* ✅ Upload + Ask rows */
.upload-row,
.ask-row{
  display:flex;
  gap:10px;
  width:100%;
}

/* ✅ Make file input look good */
.file-input{
  flex:1;
  height:46px;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(148,163,184,0.26);
  background: rgba(2,6,23,0.35);
  color: var(--text);
  outline:none;
  font-size:14px;
}

/* file input "choose file" button styling */
.file-input::-webkit-file-upload-button{
  height:32px;
  margin-right:12px;
  border:none;
  border-radius:10px;
  cursor:pointer;
  padding:0 12px;
  color: var(--text);
  background: rgba(255,255,255,0.08);
}

/* Firefox file selector button */
.file-input::file-selector-button{
  height:32px;
  margin-right:12px;
  border:none;
  border-radius:10px;
  cursor:pointer;
  padding:0 12px;
  color: var(--text);
  background: rgba(255,255,255,0.08);
}

/* keep ask input full width */
.ask-row input{
  flex:1;
}

